(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{207:function(e,t,a){e.exports=a(362)},212:function(e,t,a){},213:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},214:function(e,t,a){},362:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(18),o=a.n(r),c=(a(212),a(19)),s=a(20),l=a(22),u=a(21),d=a(23),m=a(17),p=(a(213),a(214),a(5)),h=a(24),k=a(60),f=a.n(k),g=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).handleAddClick=function(){a.props.onAddClick&&a.props.onAddClick()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.classes;return i.a.createElement(p.a,{position:"absolute"},i.a.createElement(p.x,null,i.a.createElement(p.y,{variant:"h6",color:"inherit"},t),i.a.createElement(p.f,{color:"secondary",className:a.fabBtn,size:"medium",onClick:this.handleAddClick},i.a.createElement(f.a,null))))}}]),t}(n.Component),v=Object(h.withStyles)(function(e){var t;return{fabBtn:(t={},Object(m.a)(t,e.breakpoints.up("md"),{display:"none"}),Object(m.a)(t,"display","block"),Object(m.a)(t,"position","absolute"),Object(m.a)(t,"left","calc(50% - 24px)"),Object(m.a)(t,"bottom",-24),t)}})(g),E=a(28),C=a.n(E),b=a(62),O=a(144),j=a.n(O),w=a(145),S=a.n(w),y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).handleEditBtnClick=function(e){return function(t){a.props.editClick&&a.props.editClick(e)}},a.handleRemoveBtnClick=function(e){return function(t){a.props.removeClick&&a.props.removeClick(e)}},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.columnNames,r=t.tasks;return i.a.createElement(p.r,null,i.a.createElement(p.u,null,i.a.createElement(p.v,null,n.map(function(e,t){return i.a.createElement(p.t,{key:t},e)}),i.a.createElement(p.t,null,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"))),i.a.createElement(p.s,null,r.map(function(t){return i.a.createElement(p.v,{key:t.data.id},Object.keys(t.data).map(function(e,a){return i.a.createElement(p.t,{key:a},t.data[e])}),i.a.createElement(p.t,null,i.a.createElement(p.h,{container:!0,wrap:"nowrap"},i.a.createElement(p.i,{onClick:e.handleEditBtnClick(t)},i.a.createElement(j.a,{fontSize:"small"})),t.isRemoveFetching?i.a.createElement("div",{className:a.tableBtnContainer},i.a.createElement(p.c,{size:32})):i.a.createElement("div",{className:a.tableBtnContainer},i.a.createElement(p.i,{onClick:e.handleRemoveBtnClick(t)},i.a.createElement(S.a,{fontSize:"small"}))))))})))}}]),t}(n.Component),N=Object(h.withStyles)(function(e){return{tableBtnContainer:{display:"flex",alignItems:"center",justifyContent:"center",width:44,height:44}}})(y),x=0,T="\u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f",D=["\u0442\u044d\u04330","\u0442\u044d\u04331","\u0442\u044d\u04332","\u0442\u044d\u04333"],B=function(e,t,a,n,i,r){return{data:{id:x++,status:e,taskName:t,taskDescription:a,completionDate:n,importance:i,tag:r},isRemoveFetching:!1}},A=a(147),I=a(61),R=a(148),F=Object(h.withStyles)(function(e){return{input:{width:"100%"}}})(function(e){var t=e.onChange,a=e.classes,r=e.items,o=e.selectedItem,c=Object(I.a)(e,["onChange","classes","items","selectedItem"]),s=Object(n.useState)(!1),l=Object(A.a)(s,2),u=l[0],d=l[1],m=function(e){t&&t(e.target.value),e.target.value.trim()?d(!0):d(!1)},h=function(e){13===e.keyCode&&d(!1)};return i.a.createElement(R.a,{isOpen:u,onSelect:function(e){t&&t(e),d(!1)},onOuterClick:function(){r.filter(function(e){return e.includes(o)}).length<2&&d(!1)}},function(e){return i.a.createElement("div",c,i.a.createElement(p.w,Object.assign({},e.getInputProps(),{label:"\u0422\u044d\u0433",className:a.input,onChange:m,onKeyDown:h,value:o})),i.a.createElement(p.l,e.getMenuProps(),e.isOpen&&r.filter(function(e){return e.includes(o)}).map(function(t,a){return i.a.createElement(p.k,e.getItemProps({key:t,index:a,item:t}),t)})))})}),P="creation",_="editing",z=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={taskName:"",taskNameError:!1,taskDescription:"",completionDate:"",status:T,tag:"",isFetching:!1,importance:"",importanceHidden:!0},a.componentWillReceiveProps=function(e){if(e.variant===_&&e.task){var t=e.task.data,n=t.taskName,i=t.taskDescription,r=t.completionDate,o=t.tag,c=t.importance,s=t.status;a.setState({taskName:n,taskDescription:i,completionDate:r,tag:o,importance:c,status:s,taskNameError:!1,importanceHidden:!1})}},a.handleChange=function(e){return function(t){a.setState(Object(m.a)({},e,t.target.value))}},a.handleTaskNameChange=function(e){a.setState({taskName:e.target.value}),e.target.value.trim()&&a.setState({taskNameError:!1})},a.handleDateChange=function(e){a.setState({importanceHidden:!1,completionDate:e.target.value})},a.handleTagChange=function(e){a.setState({tag:e})},a.handleCancelClick=function(e){a.state.isFetching||a.props.onCancel&&a.props.onCancel()},a.modelStateIsValid=function(){return!!a.state.taskName.trim()||(a.setState({taskNameError:!0}),!1)},a.handleSaveClick=function(e){if(a.modelStateIsValid()){var t={status:a.state.status,taskName:a.state.taskName,taskDescription:a.state.taskDescription,completionDate:a.state.completionDate,importance:a.state.importance,tag:a.state.tag};a.setState({isFetching:!0});var n=a.props.onSave&&a.props.onSave(t);n&&n.then(function(){a.setState({isFetching:!1}),a._clearAllFields()})}},a._clearAllFields=function(){a.setState({taskName:"",taskDescription:"",completionDate:"",status:T,importanceHidden:!0,importance:"",tag:""})},a._getTitle=function(){switch(a.props.variant){case P:return"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430";case _:return"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435";default:return""}},a._getSaveBtnText=function(){switch(a.props.variant){case P:return"\u0421\u043e\u0437\u0434\u0430\u0442\u044c";case _:return"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c";default:return""}},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.open,a=e.classes,n=this.state,r=n.taskName,o=n.taskDescription,c=n.completionDate,s=n.status,l=n.isFetching,u=n.importanceHidden,d=n.importance,m=n.taskNameError,h=n.tag;return i.a.createElement(p.e,{open:t},i.a.createElement("div",{className:a.root},i.a.createElement("div",{className:a.titleContainer},i.a.createElement(p.y,{variant:"h6",color:"inherit"},this._getTitle())),i.a.createElement("div",{className:a.fieldsContainer},i.a.createElement(p.w,{value:r,onChange:this.handleTaskNameChange,className:a.field,variant:"outlined",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",error:m}),i.a.createElement(p.w,{variant:"outlined",onChange:this.handleChange("taskDescription"),multiline:!0,label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",className:a.field,value:o}),i.a.createElement(p.w,{label:"\u0414\u0430\u0442\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f",type:"date",value:c,onChange:this.handleDateChange,className:a.field,InputLabelProps:{shrink:!0}}),!u&&i.a.createElement(p.n,{value:d,onChange:this.handleChange("importance")},i.a.createElement(p.g,{value:"\u0421\u0440\u043e\u0447\u043d\u0430\u044f \u0432\u0430\u0436\u043d\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430",control:i.a.createElement(p.m,null),label:"\u0421\u0440\u043e\u0447\u043d\u0430\u044f \u0432\u0430\u0436\u043d\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430"}),i.a.createElement(p.g,{value:"\u0421\u0440\u043e\u0447\u043d\u0430\u044f \u043d\u0435\u0432\u0430\u0436\u043d\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430",control:i.a.createElement(p.m,null),label:"\u0421\u0440\u043e\u0447\u043d\u0430\u044f \u043d\u0435\u0432\u0430\u0436\u043d\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430"}),i.a.createElement(p.g,{value:"\u041d\u0435\u0441\u0440\u043e\u0447\u043d\u0430\u044f \u0432\u0430\u0436\u043d\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430",control:i.a.createElement(p.m,null),label:"\u041d\u0435\u0441\u0440\u043e\u0447\u043d\u0430\u044f \u0432\u0430\u0436\u043d\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430"}),i.a.createElement(p.g,{value:"\u041d\u0435\u0441\u0440\u043e\u0447\u043d\u0430\u044f \u043d\u0435\u0432\u0430\u0436\u043d\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430",control:i.a.createElement(p.m,null),label:"\u041d\u0435\u0441\u0440\u043e\u0447\u043d\u0430\u044f \u043d\u0435\u0432\u0430\u0436\u043d\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430"})),i.a.createElement(p.o,{className:a.field,value:s,onChange:this.handleChange("status")},i.a.createElement(p.k,{value:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430"},"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430"),i.a.createElement(p.k,{value:"\u041d\u0430 \u043f\u043e\u0442\u043e\u043c"},"\u041d\u0430 \u043f\u043e\u0442\u043e\u043c"),i.a.createElement(p.k,{value:T},T)),i.a.createElement(F,{selectedItem:h,items:D,className:a.field,onChange:this.handleTagChange})),i.a.createElement(p.h,{container:!0,className:a.actionBtnContainer},l&&i.a.createElement(p.j,{className:a.progress}),i.a.createElement(p.h,{item:!0,xs:6},i.a.createElement(p.b,{className:a.actionBtn,onClick:this.handleSaveClick},this._getSaveBtnText())),i.a.createElement(p.h,{item:!0,xs:6},i.a.createElement(p.b,{className:a.actionBtn,onClick:this.handleCancelClick},"\u041e\u0442\u043c\u0435\u043d\u0430")))))}}]),t}(n.Component),H=Object(h.withStyles)(function(e){return{root:{width:304,position:"relative",height:"100%",display:"flex",flexDirection:"column"},titleContainer:{padding:10,backgroundColor:"#3f51b5",color:"white",height:80,display:"flex",alignItems:"center"},fieldsContainer:{paddingLeft:2*e.spacing.unit,paddingRight:2*e.spacing.unit,flexGrow:1,maxHeight:"100%",overflow:"auto",marginBottom:72},field:{width:"100%",marginTop:10,marginBottom:10},actionBtn:{width:"100%",height:"100%",borderRadius:0,padding:3*e.spacing.unit},actionBtnContainer:{position:"absolute",bottom:0},progress:{position:"absolute",bottom:0,width:"100%"}}})(z),W=a(146),L=a.n(W),J=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).handleClose=function(e,t){a.props.onClose&&a.props.onClose(e,t)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.message,n=e.variant,r=Object(I.a)(e,["classes","message","variant"]);return i.a.createElement(p.p,Object.assign({},r,{onClose:this.handleClose}),i.a.createElement(p.q,{className:t[n],message:i.a.createElement("span",{className:t.message},a),action:[i.a.createElement(p.i,{key:"close",color:"inherit",onClick:this.handleClose},i.a.createElement(L.a,{className:t.closeIcon}))]}))}}]),t}(n.Component),M=Object(h.withStyles)(function(e){return{message:{display:"flex",alignItems:"center"},error:{backgroundColor:e.palette.error.dark},closeIcon:{fontSize:20}}})(J),V=1777,q=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={taskEditorCreationOpen:!1,taskEditorEditingOpen:!1,snackOpen:!1,tasks:[],selectedTask:null,snackText:""},a.componentDidMount=function(){a.props.creationEditorOpen&&a.setState({taskEditorCreationOpen:a.props.creationEditorOpen})},a.componentWillReceiveProps=function(e){e.creationEditorOpen&&a.setState({taskEditorCreationOpen:e.creationEditorOpen})},a.handleAddBtnClick=function(e){a.onAddClick&&a.onAddClick(),a.setState({taskEditorCreationOpen:!0})},a.handleCancel=function(){a.props.onEditorClose&&a.props.onEditorClose(),a.setState({taskEditorCreationOpen:!1,snackOpen:!0}),a._showSnack("\u0417\u0430\u0434\u0430\u0447\u0430 \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430")},a.handleEditingCancel=function(){a.setState({taskEditorEditingOpen:!1,selectedTask:null}),a._showSnack("\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b")},a._showSnack=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V;a.setState({snackOpen:!0,snackText:e}),setTimeout(function(){a.setState({snackOpen:!1,snackText:""})},t)},a.handleSave=function(){var e=Object(b.a)(C.a.mark(function e(t){var n;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=B(t.status,t.taskName,t.taskDescription,t.completionDate,t.importance,t.tag),e.next=3,new Promise(function(e){return setTimeout(e,2e3)});case 3:a.setState(function(e){a.props.onCreateAddClick&&a.props.onCreateAddClick(n);var t=e.tasks.slice();return t.push(n),{tasks:t,taskEditorCreationOpen:!1}});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleSnackClose=function(e,t){"clickaway"!==t&&a.setState({snackOpen:!1})},a.handleRemoveClick=function(){var e=Object(b.a)(C.a.mark(function e(t){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState(function(e){var a=e.tasks.slice();return a.find(function(e){return e.data.id==t.data.id}).isRemoveFetching=!0,{newTasks:a}}),e.next=3,new Promise(function(e){return setTimeout(e,2e3)});case 3:a.setState(function(e){return{tasks:e.tasks.slice().filter(function(e){return e.data.id!==t.data.id})}});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleEditClick=function(e){a.setState({taskEditorEditingOpen:!0,selectedTask:e})},a.handleEditingSave=function(){var e=Object(b.a)(C.a.mark(function e(t){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){return setTimeout(e,2e3)});case 2:a.setState(function(e){var a=e.tasks.slice(),n=e.selectedTask,i=a.findIndex(function(e){return e.data.id===t.id});return n.data=Object.assign(n.data,t),a[i]=e.selectedTask,{tasks:a,taskEditorEditingOpen:!1}});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.taskEditorCreationOpen,n=t.tasks,r=t.snackOpen,o=t.selectedTask,c=t.taskEditorEditingOpen,s=t.snackText;return i.a.createElement(p.h,{className:e.root},i.a.createElement(H,{variant:"creation",open:a,onSave:this.handleSave,onCancel:this.handleCancel}),i.a.createElement(H,{open:c,variant:"editing",task:o,onSave:this.handleEditingSave,onCancel:this.handleEditingCancel}),i.a.createElement(N,{columnNames:["id","\u0421\u0442\u0430\u0442\u0443\u0441","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438","\u0414\u0430\u0442\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f","\u0412\u0430\u0436\u043d\u043e\u0441\u0442\u044c","\u0422\u044d\u0433"],tasks:n,removeClick:this.handleRemoveClick,editClick:this.handleEditClick}),i.a.createElement(M,{open:r,variant:"error",message:s,onClose:this.handleSnackClose}),i.a.createElement(p.f,{color:"secondary",size:"medium",className:e.addBtn,onClick:this.handleAddBtnClick},i.a.createElement(f.a,null)))}}]),t}(n.Component),G=Object(h.withStyles)(function(e){var t;return{root:{marginLeft:2*e.spacing.unit,marginRight:2*e.spacing.unit,paddingTop:2*e.spacing.unit,position:"relative",height:"100%"},addBtn:(t={},Object(m.a)(t,e.breakpoints.down("sm"),{display:"none"}),Object(m.a)(t,"position","fixed"),Object(m.a)(t,"right",4*e.spacing.unit),Object(m.a)(t,"bottom",4*e.spacing.unit),t)}})(q),K=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={creationEditorOpen:!1},a.handleSaveClick=function(e){a.setState({creationEditorOpen:!1})},a.handleEditorClose=function(){a.setState({creationEditorOpen:!1})},a.handleAddClick=function(){a.setState({creationEditorOpen:!0})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.creationEditorOpen;return i.a.createElement("div",{className:e.root},i.a.createElement(v,{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0434\u0430\u0447",onAddClick:this.handleAddClick}),i.a.createElement("div",{className:e.appContainer},i.a.createElement(G,{creationEditorOpen:t,onCreateAddClick:this.handleSaveClick,onEditorClose:this.handleEditorClose})))}}]),t}(n.Component),X=Object(h.withStyles)(function(e){return{root:{height:"100vh"},appContainer:Object(m.a)({paddingTop:56,height:"100%",overflowX:"auto"},e.breakpoints.up("sm"),{paddingTop:64})}})(K);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.Fragment,null,i.a.createElement(p.d,null),i.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[207,1,2]]]);
//# sourceMappingURL=main.67f565ff.chunk.js.map